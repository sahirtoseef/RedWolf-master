<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">

        <title>Redwolf DataTable</title>
        <meta content="" name="description">
        <meta content="" name="keywords">

        <!-- Favicons -->
        <link href="assets/img/logo.png" rel="icon">
        <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

        <!-- Vendor CSS Files -->
        <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
        <link href="assets/vendor/aos/aos.css" rel="stylesheet">
        <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
        <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
        <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">

        <!-- Template Main CSS File -->
        <link href="assets/css/style.css" rel="stylesheet">

        <!-- =======================================================
        * Template Name: FlexStart - v1.2.0
        * Template URL: https://bootstrapmade.com/flexstart-bootstrap-startup-template/
        * Author: BootstrapMade.com
        * License: https://bootstrapmade.com/license/
        ======================================================== -->
        <style>
            .search-button-main {
                padding: 20px;
            }
            .search-btn{
                display: inline-block;
                padding: 8px 40px 10px 40px;
                border-radius: 50px;
                color: #4154f1;
                transition: none;
                font-size: 16px;
                font-weight: 400;
                font-family: "Nunito", sans-serif;
                font-weight: 600;
                transition: 0.3s;
                border: 1px solid #4154f1;
                margin-right: 10px;
            }
            #downloadData
            {
                display:none;
            }
            #table2excel_wrapper .row .col-sm-12
            {
                overflow-x: auto;
                margin: 0px;padding: 0px;
            }
            .table-striped>tbody>tr:nth-of-type(odd) {
                --bs-table-accent-bg: rgb(243 152 152);
            }
            .table-striped>tbody>tr:nth-of-type(even) {
                --bs-table-accent-bg: rgb(252 213 213);
            }
            thead tr{
                --bs-table-accent-bg: rgb(236 111 111);

            }
            label{
                font-weight: bold;
                padding: 10px;
            }
            table{
                margin: 0 auto;
                width: 310% !important;
                clear: both;
                border-collapse: collapse;
                table-layout: fixed;
                word-wrap:break-word;
            }
            .body-hidden{
                overflow: hidden;
            }

            .spinner-container{
                text-align: center;
                background-color: #ee7b7a;
                overflow: hidden;
                position: fixed;
                top: 0;
                width: 100%;
                height: 100%;
            }
            .spinner-main{
                position: fixed;
                top: 50%;
                left: 48%;
            }

            .hourglass{
                position: relative;
                height: 80px;
                width: 80px;
                top: 28%;
                top: -webkit-calc(50% - 43px);
                top: calc(50% - 43px);
                left: 35%;
                left: -webkit-calc(50% - 43px);
                left: calc(50% - 43px);
                border-radius: 80px;
                -webkit-transform-origin: 50% 50%;
                transform-origin: 50% 50%;
                -webkit-animation: hourglass 2s ease-in-out infinite;
                animation: hourglass 2s ease-in-out infinite;
            }

            .hourglass:before{
                content: "";
                position: absolute;
                top:8px;
                left: 18px;
                width: 0px;
                height: 0px;
                border-style: solid;
                border-width: 37px 22px 0 22px;
                border-color: #fff transparent transparent transparent;
            }
            .hourglass:after{
                content: "";
                position: absolute;
                top: 35px;
                left: 18px;
                width: 0px;
                height: 0px;
                border-style: solid;
                border-width: 0 22px 37px 22px;
                border-color: transparent transparent #fff transparent;
            }

            @-webkit-keyframes hourglass{
                0%{-webkit-transform:rotate(0deg);}
                100%{-webkit-transform:rotate(180deg);}
            }

            @keyframes hourglass{
                0%{transform:rotate(0deg);}
                100%{transform:rotate(180deg);}
            }
        </style>
    </head>

    <body>

        <!-- ======= Header ======= -->
        <header id="header" class="header fixed-top">
            <div class="container-fluid container-xl d-flex align-items-center justify-content-between">

                <a href="index.html" class="logo d-flex align-items-center">
                    <img src="assets/img/logo.png" alt="">
                    <span>RedWolf</span>
                </a>

                <nav id="navbar" class="navbar">
                    <ul>
                        <li><a class="nav-link scrollto " href="index.html">Home</a></li>
                        <li><a class="nav-link scrollto" href="index.html#about">About</a></li>
                        <li><a class="nav-link scrollto" href="index.html#team">Team</a></li>
                        <li><a href="dashboard.html">Dashboard</a></li>
                        <li><a class="active" href="datatable.html">DataTable</a></li>

                    </ul>
                    <i class="bi bi-list mobile-nav-toggle"></i>
                </nav><!-- .navbar -->

            </div>
        </header><!-- End Header -->

        <main id="main">

            <!-- ======= Hero Section ======= -->
            <section id="hero" class="hero d-flex align-items-center">

                <div class="container">
                    <div class="row">
                        <div class="col-lg-6 d-flex flex-column justify-content-center">
                            <h1 data-aos="fade-up">Data Tables Listing</h1>
                            <h2 data-aos="fade-up" data-aos-delay="400">You can see the listing of filtered data</h2>
                            <div data-aos="fade-up" data-aos-delay="600">
                                <div class="text-center text-lg-start">
                                    <a href="index.html#about" class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center">
                                        <span>About Us</span>
                                        <i class="bi bi-arrow-right"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 hero-img" data-aos="zoom-out" data-aos-delay="200">
                            <img src="assets/img/datatable.png" class="img-fluid" alt="">
                        </div>
                    </div>
                </div>

            </section><!-- End Hero -->
			
			<!-- ======= Counts Section ======= -->
			<section id="counts" class="counts">
			  <div class="container" data-aos="fade-up">

				<div class="row gy-4">

				  <div class="col-lg-3 col-md-6">
					<div class="count-box">
					  <i class="bi bi-emoji-smile"></i>
					  <div>
						<span data-purecounter-start="0" data-purecounter-end="391" data-purecounter-duration="1" class="purecounter"></span>
						<p>Potential Threats</p>
					  </div>
					</div>
				  </div>

				  <div class="col-lg-3 col-md-6">
					<div class="count-box">
					  <i class="bi bi-headset" style="color: #15be56;"></i>
					  <div>
						<span data-purecounter-start="0" data-purecounter-end="7517" data-purecounter-duration="1" class="purecounter"></span>
						<p>Unique IPs/Ports</p>
					  </div>
					</div>
				  </div>

				</div>

			  </div>
			</section><!-- End Counts Section -->

            <!-- ======= Blog Section ======= -->
            <section id="blog" class="blog">
                <div class="container" data-aos="fade-up">

                    <div class="row">
                        <div class="search-button-main">
                            <a href="javascript:void(0);" id="loaderData" class="search-btn">Load Data</a>
                            <a href="javascript:void(0);" id="downloadData" class="search-btn">Download Data</a>
                            <a href="javascript:void(0);" id="columns" class="search-btn">Filter Columns</a>
                        </div>

                        <div id="filterRow" class="col-md-12 row gy-4">
                            <div class="col-md-2">
                                <label>IP</label>
                                <input type="text" class="form-control" id="IP-input" placeholder="IP">
                            </div>
                            <div class="col-md-2">
                                <label>Port</label>
                                <input type="text" class="form-control" id="Port-input" placeholder="Port">
                            </div>
                            <div class="col-md-2">
                                <label>CVE</label>
                                <input type="text" class="form-control" id="CVE-ID" placeholder="CVE">
                            </div>
                            <div class="col-md-2">
                                <label>CVSS</label>
                                <select name="subject" class="form-select" id="CVSS">
                                    <option value="0-2.5">0-2.5</option>
                                    <option value="2.51-5">2.51-5</option>
                                    <option value="5.01-7.5">5.01-7.5</option>
                                    <option value="7.51-10">7.51-10</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label>Confidentiality</label>
                                <select name="subject" id="conf" class="form-select">
                                    <option value="None">None</option>
                                    <option value="Partial">Partial</option>
                                    <option value="Complete">Complete</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label>Integrity</label>
                                <select name="subject" id="Integ" class="form-select">
                                    <option value="None">None</option>
                                    <option value="Partial">Partial</option>
                                    <option value="Complete">Complete</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label>Availability</label>
                                <select name="subject" id="Avail" class="form-select">
                                    <option value="None">None</option>
                                    <option value="Partial">Partial</option>
                                    <option value="Complete">Complete</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label>Complexity</label>
                                <select name="subject" id="Complex" class="form-select">
                                    <option value="Low">Low</option>
                                    <option value="Medium">Medium</option>
                                    <option value="High">High</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label>Authentication</label>
                                <select name="subject" id="Authen" class="form-select">
                                    <option value="Not Required">Not Required</option>
                                    <option value="Single System">Single System</option>
                                    <option value="Multiple Systems">Multiple Systems</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label>Gained Access</label>
                                <select name="subject" id="Gained" class="form-select">
                                    <option value="None">None</option>
                                    <option value="Admin">Admin</option>
                                    <option value="User">User</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label>CWE</label>
                                <input type="text" id="CWE-ID" placeholder="CWE" class="form-control">
                            </div>
                            <div class="col-md-2">
                                <label>Exploits</label>
                                <input type="text" id="Exploit" placeholder="Exploits" class="form-control">
                            </div>
                            <div class="col-md-2">
                                <label>MetaSploit</label>
                                <select name="subject" id="Meta" class="form-select">
                                    <option value="True">True</option>
                                    <option value="False">False</option>
                                </select>
                            </div>
                        </div>

                        <div id="tablemaker" class="col-xs-12"  style="margin-top:10px">

                        </div>

                    </div>

                </div>
            </section><!-- End Blog Section -->

        </main><!-- End #main -->
        <div class="spinner-container" style="display:none;">
            <div class="spinner-main">
                <div class="hourglass"></div>
            </div>
        </div>
        <!-- ======= Footer ======= -->
        <footer id="footer" class="footer">

            <div class="footer-top">
                <div class="container">
                    <div class="row gy-4">
                        <div class="col-lg-5 col-md-12 footer-info">
                            <a href="index.html" class="logo d-flex align-items-center">
                                <img src="assets/img/logo.png" alt="">
                                <span>Redwolf</span>
                            </a>
                        </div>

                        <div class="col-lg-2 col-6 footer-links">
                            <h4>Links</h4>
                            <ul>
                                <li><i class="bi bi-chevron-right"></i> <a href="index.html#hero">Home</a></li>
                                <li><i class="bi bi-chevron-right"></i> <a href="index.html#about">About</a></li>
                                <li><i class="bi bi-chevron-right"></i> <a href="index.html#team">Our Team</a></li>
                                <li><i class="bi bi-chevron-right"></i> <a href="dashboard.html">Dashboard</a></li>
                                <li><i class="bi bi-chevron-right"></i> <a href="datatable.html">Database</a></li>
                            </ul>
                        </div>

                        <div class="col-lg-2 col-6 footer-links">
                            <h4>Technology Links</h4>
                            <ul>
                                <li><i class="bi bi-chevron-right"></i> <a href="https://www.cvedetails.com/">CVE Details</a></li>
                                <li><i class="bi bi-chevron-right"></i> <a href="https://www.shodan.io/">Shodan</a></li>
                                <li><i class="bi bi-chevron-right"></i> <a href="https://nmap.org/">NMap</a></li>
                                <li><i class="bi bi-chevron-right"></i> <a href="https://www.tableau.com/">Tableau</a></li>
                                <li><i class="bi bi-chevron-right"></i> <a href="https://www.kali.org/">Kali Linux</a></li>
                            </ul>
                        </div>

                        <div class="col-lg-3 col-md-12 footer-contact text-center text-md-start">
                            <h4>Contact Us</h4>
                            <p>
                                3675 Market St. 10th floor <br>
                                Philadelphia, PA 19104<br>
                                United States <br><br>
                                <strong>Phone:</strong> +1 215 895-2474<br>
                                <strong>Email:</strong> cciinfo@drexel.edu<br>
                            </p>

                        </div>

                    </div>
                </div>
            </div>

            <div class="container">
                <div class="copyright">
                    &copy; Copyright <strong><span>FlexStart</span></strong>. All Rights Reserved
                </div>
                <div class="credits">
                    <!-- All the links in the footer should remain intact. -->
                    <!-- You can delete the links only if you purchased the pro version. -->
                    <!-- Licensing information: https://bootstrapmade.com/license/ -->
                    <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/flexstart-bootstrap-startup-template/ -->
                    Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
                </div>
            </div>
        </footer><!-- End Footer -->
        <div class="back-to-top-btn">
            <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
        </div>

        <!-- Vendor JS Files -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="assets/vendor/bootstrap/js/bootstrap.bundle.js"></script>
        <script src="assets/vendor/aos/aos.js"></script>
        <script src="assets/vendor/php-email-form/validate.js"></script>
        <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
        <script src="assets/vendor/purecounter/purecounter.js"></script>
        <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
        <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>

        <!-- Template Main JS File -->
        <script src="assets/js/main.js"></script>
        <script src="assets/js/jquery.table2excel.min.js"></script>
        <link rel="stylesheet" type="text/css" href="assets/js/datatables/datatables.min.css"/>
        <script type="text/javascript" src="assets/js/datatables/datatables.min.js"></script>
        <script>

            $(document).ready(function () {
                let table;
                $('#loaderData').click(function () {
                    $(".spinner-container").show();
                    $("#header").hide();
                    $("body").addClass("body-hidden");
                    $("#footer").hide();
                    $(".back-to-top-btn").hide();
                    $.ajax({
                        url: "Sources/final_set3.csv?i=2",
                        dataType: "text",
                        success: function (data) {
                            var col_length = 0;
                            var lineItem = data.split(/\r?\n|\r/);
                            var headers = lineItem[0].split(',');
                            var headerCount = 0;
                            var tableData = '<table  id="table2excel" style="overflow-x: auto;margin: 0px;padding: 0px;" class="display table table-bordered table-striped col-xs-12" data-tableName="Test Table 3">';
                            for (var i = 0; i < lineItem.length; i++) {
                                var cellData = lineItem[i].split(",");
                                if (col_length == 0) {
                                    col_length = cellData.length;
                                }

                                if (i === 0) {
                                    tableData += '<thead><tr>';
                                } else
                                {
                                    tableData += '<tr>';
                                }
                                if (col_length == cellData.length)
                                {
                                    for (var j = 0; j < cellData.length; j++) {
                                        if (i === 0) {
                                            tableData += '<th>' + cellData[j] + '</th>';
                                        } else {
                                            if (cellData[j] == null || cellData[j] === undefined || cellData[j] == "")
                                            {
                                                tableData += '<td></td>'
                                            } else {
                                                if (j === 0){
													var concatURL = "https://www.shodan.io/host/" + String(cellData[j]);
													tableData += '<td><a href=' + concatURL + '>' + cellData[j] + '</a></td>';
												} else {
													tableData += '<td>' + cellData[j] + '</td>';
												}
                                            }
                                        }
                                    }
                                }// length check
                                if (i === 0) {
                                    tableData += '</tr></thead><tbody>';
                                } else
                                {
                                    tableData += '</tr>';
                                }
                            }
                            tableData += '</tbody></table> ';
                            $('#tablemaker').html(tableData);

                            table = $('#table2excel').DataTable();

                            $(".spinner-container").hide();
                            $("#header").show();
                            $("body").removeClass("body-hidden");
                            $("#footer").show();
                            $(".back-to-top-btn").show();
                            
                            $("#downloadData").show();
                        }
                    });
                });

                // Event listener to the two range filtering inputs to redraw on input
                $('#IP-input').keyup(function () {
                    table
                            .columns(0)
                            .search(this.value)
                            .draw();
                });
                $('#Port-input').keyup(function () {
                    table
                            .columns(1)
                            .search(this.value)
                            .draw();
                });
                $('#CVE-ID').keyup(function () {
                    table
                            .columns(2)
                            .search(this.value)
                            .draw();
                });
                $('#CVSS').on('change', function () {
                    console.log($(this).val());
                    table
                            .columns(3)
                            .search(this.value)
                            .draw();
                });
                $('#conf').change(function () {
                    table
                            .columns(4)
                            .search(this.value)
                            .draw();
                });
                $('#Integ').change(function () {
                    table
                            .columns(5)
                            .search(this.value)
                            .draw();
                });
                $('#Avail').change(function () {
                    table
                            .columns(6)
                            .search(this.value)
                            .draw();
                });
                $('#Complex').change(function () {
                    table
                            .columns(7)
                            .search(this.value)
                            .draw();
                });
                $('#Authen').change(function () {
                    table
                            .columns(8)
                            .search(this.value)
                            .draw();
                });
                $('#Gained').change(function () {
                    table
                            .columns(9)
                            .search(this.value)
                            .draw();
                });
                $('#CWE-ID').keyup(function () {
                    table
                            .columns(10)
                            .search(this.value)
                            .draw();
                });
                $('#Exploit').keyup(function () {
                    table
                            .columns(11)
                            .search(this.value)
                            .draw();
                });
                $('#Meta').change(function () {
                    table
                            .columns(12)
                            .search(this.value)
                            .draw();
                });
                $("#downloadData").click(function (e) {
                    var table = $('#table2excel');
                    if (table && table.length) {
                        var preserveColors = (table.hasClass('table2excel_with_colors') ? true : false);
                        $(table).table2excel({
                            exclude: ".noExl",
                            name: "Excel Document Name",
                            filename: "myFileName" + new Date().toISOString().replace(/[\-\:\.]/g, "") + ".xls",
                            fileext: ".xls",
                            exclude_img: true,
                            exclude_links: true,
                            exclude_inputs: true,
                            preserveColors: preserveColors
                        });
                    }
                });

            });

        </script>
    </body>

</html>
